<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ferrule Designer Pro | Precision Manufacturing</title>
    <!-- html2canvas for capturing the ferrule visual -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <!-- jsPDF for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, sans-serif;
            background: #111; color: #eee; min-height: 100vh;
            display: flex; justify-content: center; align-items: center; padding: 15px;
        }
        #lock-screen {
            position: fixed; inset: 0; background: #000; z-index: 10000;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        #lock-screen input { padding: 15px; border-radius: 8px; border: 1px solid #444; background: #222; color: #fff; text-align: center; margin-bottom: 20px; font-size: 1.2rem; }
        
        .container {
            width: 100%; max-width: 1400px; height: 95vh;
            background: #222; border-radius: 12px;
            display: none; grid-template-columns: 460px 1fr;
            overflow: hidden; border: 1px solid #333;
        }
        
        .sidebar { padding: 20px; background: #2a2a2a; border-right: 1px solid #333; overflow-y: auto; }
        h2 { font-size: 0.85rem; margin-bottom: 12px; color: #f1c40f; text-transform: uppercase; letter-spacing: 1.5px; border-bottom: 1px solid #444; padding-bottom: 5px; }
        
        .metallic-palette {
            background: #1a1a1a; padding: 15px; border-radius: 8px; 
            margin-bottom: 20px; border: 1px solid #444;
        }
        .m-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; }
        .m-swatch { 
            height: 42px; border-radius: 4px; cursor: pointer; border: 2px solid #333; 
            display: flex; align-items: center; justify-content: center; font-size: 0.55rem; font-weight: bold;
            transition: all 0.2s; text-align: center; position: relative;
        }
        .m-swatch:hover { transform: scale(1.08); border-color: #f1c40f; box-shadow: 0 0 15px rgba(241, 196, 15, 0.3); z-index: 10; }
        .m-swatch:active { transform: scale(0.95); }

        .quick-actions {
            display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 20px;
        }
        .quick-btn {
            padding: 8px; background: #333; border: 1px solid #444; border-radius: 6px;
            cursor: pointer; font-size: 0.7rem; text-transform: uppercase; font-weight: bold;
            transition: 0.2s; color: #aaa; text-align: center;
        }
        .quick-btn:hover { background: #444; color: #f1c40f; border-color: #f1c40f; }

        #sectionControls { max-height: 400px; overflow-y: auto; padding-right: 10px; margin-bottom: 20px; }
        .section-row { 
            display: flex; align-items: center; gap: 8px; margin-bottom: 6px; 
            background: #333; padding: 6px; border-radius: 4px; border: 1px solid transparent;
            transition: 0.2s;
        }
        .section-row:hover { background: #3a3a3a; border-color: #555; }
        .section-row.selected { border-color: #f1c40f; background: #3a3a3a; }
        .section-row input[type="color"] { width: 35px; height: 35px; border: none; cursor: pointer; background: none; border-radius: 4px; }
        .section-row input[type="text"] { 
            width: 85px; padding: 6px; background: #111; border: 1px solid #444; 
            color: #fff; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 0.8rem;
        }
        .section-row input[type="text"]:focus { border-color: #f1c40f; outline: none; }
        .pantone-tag { 
            flex: 1; font-size: 0.65rem; color: #bbb; text-align: right; 
            overflow: hidden; white-space: nowrap; font-weight: 500;
        }
        .pantone-tag.exact { color: #2ecc71; }
        .pantone-tag.close { color: #f39c12; }
        .pantone-tag.approx { color: #e74c3c; }

        .dim-controls { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 20px; }
        .dim-box { background: #1a1a1a; padding: 10px; border-radius: 6px; border: 1px solid #444; }
        .dim-box label { font-size: 0.6rem; color: #888; text-transform: uppercase; display: block; margin-bottom: 4px; }
        .dim-box input { width: 100%; padding: 6px; background: #000; border: 1px solid #333; color: #fff; border-radius: 4px; font-size: 0.9rem; }
        .dim-box input:focus { border-color: #f1c40f; outline: none; }

        .viewport { 
            background: radial-gradient(circle, #2a2a2a 0%, #050505 100%); 
            display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px; position: relative; 
        }
        .ferrule-viz { 
            width: 320px; height: 480px; display: flex; flex-direction: column; 
            transition: clip-path 0.4s ease; box-shadow: 0 0 50px rgba(0,0,0,0.5);
            cursor: pointer;
        }
        .sec-slice { 
            flex: 1; width: 100%; border-bottom: 0.1px solid rgba(255,255,255,0.02); 
            cursor: pointer; transition: opacity 0.2s;
        }
        .sec-slice:hover { opacity: 0.8; }
        .sec-slice.selected { outline: 2px solid #f1c40f; outline-offset: -2px; z-index: 100; }
        
        .spec-footer { 
            position: absolute; bottom: 20px; width: 90%; background: rgba(0,0,0,0.85); 
            padding: 15px; border-radius: 8px; border: 1px solid #444; display: flex; justify-content: space-between; align-items: center;
        }
        .sku-val { font-family: 'Courier New', monospace; font-size: 1.5rem; color: #f1c40f; font-weight: bold; }
        
        .btn { padding: 12px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; text-transform: uppercase; margin-top: 10px; width: 100%; transition: 0.2s; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.3); }
        .btn-save { background: #27ae60; color: #fff; }
        .btn-save:hover { background: #2ecc71; }
        .btn-reset { background: #444; color: #aaa; margin-top: 5px; }
        .btn-reset:hover { background: #555; color: #fff; }

        .tooltip {
            position: absolute; background: rgba(0,0,0,0.95); color: #fff; padding: 8px 12px;
            border-radius: 6px; font-size: 0.75rem; pointer-events: none; z-index: 1000;
            border: 1px solid #f1c40f; display: none; white-space: nowrap;
        }

        .notification {
            position: fixed; top: 20px; right: 20px; background: #27ae60; color: #fff;
            padding: 12px 20px; border-radius: 6px; font-weight: bold; z-index: 9999;
            animation: slideIn 0.3s ease, slideOut 0.3s ease 2.7s forwards;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        @keyframes slideIn { from { transform: translateX(400px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @keyframes slideOut { from { transform: translateX(0); opacity: 1; } to { transform: translateX(400px); opacity: 0; } }
    </style>
</head>
<body>

    <div id="lock-screen">
        <h1 style="margin-bottom:20px; letter-spacing:4px; color:#f1c40f;">SECURE ACCESS</h1>
        <input type="password" id="pw" placeholder="Enter Password">
        <button class="btn" onclick="unlock()" style="width:220px; background:#fff; color:#000;">Authorize</button>
        <p style="margin-top:10px; color:#666; font-size:0.8rem;">Hint: 4-letter sport</p>
    </div>

    <div class="container" id="app">
        <div class="sidebar">
            <div class="metallic-palette">
                <h2>Metallic Reference Box</h2>
                <div class="m-grid">
                    <div class="m-swatch" style="background:#84754e; color:#fff;" data-hex="#84754E" title="Click to apply">871 C<br>GOLD</div>
                    <div class="m-swatch" style="background:#a68966; color:#fff;" data-hex="#A68966" title="Click to apply">872 C<br>RICH</div>
                    <div class="m-swatch" style="background:#8a8d8f; color:#000;" data-hex="#8A8D8F" title="Click to apply">877 C<br>SILVER</div>
                    <div class="m-swatch" style="background:#d5d2d1; color:#000;" data-hex="#D5D2D1" title="Click to apply">8001 C<br>PLAT</div>
                    <div class="m-swatch" style="background:#915520; color:#fff;" data-hex="#915520" title="Click to apply">876 C<br>COPPER</div>
                    <div class="m-swatch" style="background:#54585a; color:#fff;" data-hex="#54585A" title="Click to apply">8003 C<br>GUN</div>
                    <div class="m-swatch" style="background:#7a6a4f; color:#fff;" data-hex="#7A6A4F" title="Click to apply">873 C<br>BRONZE</div>
                    <div class="m-swatch" style="background:#81d8d0; color:#000;" data-hex="#81D8D0" title="Click to apply">TIFFANY<br>BLUE</div>
                </div>
            </div>

            <div class="quick-actions">
                <div class="quick-btn" onclick="applyPattern('gradient')">Gradient Fill</div>
                <div class="quick-btn" onclick="applyPattern('alternate')">Alternating</div>
                <div class="quick-btn" onclick="applyPattern('triple')">Triple Stripe</div>
                <div class="quick-btn" onclick="copyAllColors()">Copy All Hex</div>
            </div>

            <h2>Section Color Configuration</h2>
            <div id="sectionControls"></div>
            
            <h2>Manufacturing Geometry</h2>
            <div class="dim-controls">
                <div class="dim-box"><label>Length (mm)</label><input type="number" id="len" value="25" min="10" max="50"></div>
                <div class="dim-box"><label>Internal Ã˜ (mm)</label><input type="number" id="wall" value="8.5" step="0.1" min="5" max="20"></div>
                <div class="dim-box"><label>Top Ã˜ (mm)</label><input type="number" id="topD" value="10.5" step="0.1" min="5" max="20"></div>
                <div class="dim-box"><label>Bottom Ã˜ (mm)</label><input type="number" id="botD" value="14.5" step="0.1" min="5" max="25"></div>
            </div>
            
            <button class="btn btn-save" onclick="downloadPDF()">ðŸ“¥ Download Production PDF</button>
            <button class="btn btn-reset" onclick="resetDesigner()">ðŸ”„ Reset Designer</button>
        </div>
        
        <div class="viewport">
            <div class="ferrule-viz" id="preview"></div>
            
            <div class="spec-footer">
                <div>
                    <div style="font-size: 0.6rem; color: #888;">BUILD SKU</div>
                    <div id="skuDisplay" class="sku-val">F-25-XXXX</div>
                </div>
                <div style="text-align: right;">
                    <div style="font-size: 0.6rem; color: #888;">SECTIONS</div>
                    <div style="font-weight: bold; color:#fff;">20 Layers</div>
                </div>
            </div>
        </div>
    </div>

    <div class="tooltip" id="tooltip"></div>

    <script>
        const TOTAL_SECS = 20;
        let activeColors = Array(TOTAL_SECS).fill('#000000');
        let currentID = "";
        let selectedSection = null;

        const PANTONE_DB = {
            '#f6eb61': { name: '100 C', desc: 'Pale Yellow', category: 'yellow' },
            '#f7e859': { name: '101 C', desc: 'Light Yellow', category: 'yellow' },
            '#f9e04b': { name: '102 C', desc: 'Yellow', category: 'yellow' },
            '#fcd757': { name: '103 C', desc: 'Golden Yellow', category: 'yellow' },
            '#f0c20c': { name: '104 C', desc: 'Deep Yellow', category: 'yellow' },
            '#d9a600': { name: '105 C', desc: 'Dark Yellow', category: 'yellow' },
            '#f4d006': { name: '106 C', desc: 'Bright Yellow', category: 'yellow' },
            '#f8d72e': { name: '107 C', desc: 'Sun Yellow', category: 'yellow' },
            '#f7d000': { name: '108 C', desc: 'Yellow Warm', category: 'yellow' },
            '#f5c300': { name: '109 C', desc: 'Yellow Gold', category: 'yellow' },
            '#efb800': { name: '110 C', desc: 'Amber Yellow', category: 'yellow' },
            '#e5a500': { name: '111 C', desc: 'Dark Amber', category: 'yellow' },
            '#d49700': { name: '112 C', desc: 'Deep Amber', category: 'yellow' },
            '#f5df4d': { name: '113 C', desc: 'Lemon', category: 'yellow' },
            '#f8df3e': { name: '114 C', desc: 'Light Lemon', category: 'yellow' },
            '#f7d827': { name: '115 C', desc: 'Lemon Yellow', category: 'yellow' },
            '#ffd700': { name: '116 C', desc: 'Golden', category: 'yellow' },
            '#f0b400': { name: '117 C', desc: 'Dark Gold', category: 'yellow' },
            '#cf9a00': { name: '118 C', desc: 'Antique Gold', category: 'yellow' },
            '#b28400': { name: '119 C', desc: 'Old Gold', category: 'yellow' },
            '#fad978': { name: '120 C', desc: 'Pale Straw', category: 'yellow' },
            '#fad36b': { name: '121 C', desc: 'Light Straw', category: 'yellow' },
            '#fac844': { name: '122 C', desc: 'Straw', category: 'yellow' },
            '#fcba00': { name: '123 C', desc: 'Saffron', category: 'orange' },
            '#fca600': { name: '124 C', desc: 'Marigold', category: 'orange' },
            '#e89900': { name: '125 C', desc: 'Dark Marigold', category: 'orange' },
            '#c8820a': { name: '126 C', desc: 'Harvest Gold', category: 'orange' },
            '#fcd88a': { name: '127 C', desc: 'Pale Gold', category: 'yellow' },
            '#fccf62': { name: '128 C', desc: 'Light Gold', category: 'yellow' },
            '#fcc22a': { name: '129 C', desc: 'Gold', category: 'yellow' },
            '#f2a900': { name: '130 C', desc: 'Amber', category: 'orange' },
            '#d99200': { name: '131 C', desc: 'Dark Amber', category: 'orange' },
            '#b87e00': { name: '132 C', desc: 'Bronze', category: 'orange' },
            '#7d5900': { name: '133 C', desc: 'Dark Bronze', category: 'brown' },
            '#fddea0': { name: '134 C', desc: 'Cream', category: 'yellow' },
            '#fdd078': { name: '135 C', desc: 'Light Peach', category: 'orange' },
            '#fcc054': { name: '136 C', desc: 'Peach', category: 'orange' },
            '#ffa500': { name: '137 C', desc: 'Orange', category: 'orange' },
            '#e88c00': { name: '138 C', desc: 'Deep Orange', category: 'orange' },
            '#c97800': { name: '139 C', desc: 'Dark Orange', category: 'orange' },
            '#a86200': { name: '140 C', desc: 'Burnt Orange', category: 'orange' },
            '#ffd9a0': { name: '141 C', desc: 'Pale Apricot', category: 'orange' },
            '#ffc878': { name: '142 C', desc: 'Light Apricot', category: 'orange' },
            '#ffb347': { name: '143 C', desc: 'Apricot', category: 'orange' },
            '#f4a020': { name: '144 C', desc: 'Tangerine', category: 'orange' },
            '#e08000': { name: '145 C', desc: 'Dark Tangerine', category: 'orange' },
            '#c06c00': { name: '146 C', desc: 'Burnt Sienna', category: 'orange' },
            '#9a5500': { name: '147 C', desc: 'Dark Sienna', category: 'brown' },
            '#fdc8a4': { name: '148 C', desc: 'Pale Salmon', category: 'orange' },
            '#fcb482': { name: '149 C', desc: 'Light Salmon', category: 'orange' },
            '#f99a5e': { name: '150 C', desc: 'Salmon', category: 'orange' },
            '#f48024': { name: '151 C', desc: 'Orange Bright', category: 'orange' },
            '#e06800': { name: '152 C', desc: 'Deep Orange Bright', category: 'orange' },
            '#bf5400': { name: '153 C', desc: 'Rust', category: 'orange' },
            '#9e4400': { name: '154 C', desc: 'Dark Rust', category: 'brown' },
            '#f9cdb4': { name: '155 C', desc: 'Pale Peach', category: 'orange' },
            '#f8b99a': { name: '156 C', desc: 'Light Peach 2', category: 'orange' },
            '#f5a07a': { name: '157 C', desc: 'Peach', category: 'orange' },
            '#f08040': { name: '158 C', desc: 'Deep Peach', category: 'orange' },
            '#e06420': { name: '159 C', desc: 'Dark Peach', category: 'orange' },
            '#c04e00': { name: '160 C', desc: 'Terracotta', category: 'orange' },
            '#9a3e00': { name: '161 C', desc: 'Dark Terracotta', category: 'brown' },
            '#fac8af': { name: '162 C', desc: 'Pale Coral', category: 'orange' },
            '#f8b090': { name: '163 C', desc: 'Light Coral', category: 'orange' },
            '#f59070': { name: '164 C', desc: 'Coral', category: 'orange' },
            '#ff6900': { name: '165 C', desc: 'Vibrant Orange', category: 'orange' },
            '#e55000': { name: '166 C', desc: 'Deep Vibrant Orange', category: 'orange' },
            '#c44000': { name: '167 C', desc: 'Burnt Red', category: 'red' },
            '#a03400': { name: '168 C', desc: 'Dark Burnt Red', category: 'red' },
            '#fac0a8': { name: '169 C', desc: 'Pale Blush', category: 'red' },
            '#f8a08a': { name: '170 C', desc: 'Light Blush', category: 'red' },
            '#f47c60': { name: '171 C', desc: 'Coral Red', category: 'red' },
            '#ef4e28': { name: '172 C', desc: 'Orange Red', category: 'red' },
            '#d83800': { name: '173 C', desc: 'Dark Orange Red', category: 'red' },
            '#b42c00': { name: '174 C', desc: 'Deep Red', category: 'red' },
            '#8c2000': { name: '175 C', desc: 'Very Dark Red', category: 'red' },
            '#f0b4a4': { name: '176 C', desc: 'Pink Blush', category: 'red' },
            '#ec9080': { name: '177 C', desc: 'Salmon Pink', category: 'red' },
            '#e86054': { name: '178 C', desc: 'Coral Pink', category: 'red' },
            '#e03428': { name: '179 C', desc: 'Warm Red', category: 'red' },
            '#c82414': { name: '180 C', desc: 'Dark Warm Red', category: 'red' },
            '#a81c10': { name: '181 C', desc: 'Deep Warm Red', category: 'red' },
            '#f4b4b0': { name: '182 C', desc: 'Pale Rose', category: 'red' },
            '#f09090': { name: '183 C', desc: 'Light Rose', category: 'red' },
            '#e86464': { name: '184 C', desc: 'Rose', category: 'red' },
            '#de3030': { name: '185 C', desc: 'Bright Red', category: 'red' },
            '#c8102e': { name: '186 C', desc: 'Red', category: 'red' },
            '#a50c20': { name: '187 C', desc: 'Dark Red', category: 'red' },
            '#841018': { name: '188 C', desc: 'Deep Dark Red', category: 'red' },
            '#f0b4b8': { name: '189 C', desc: 'Pale Pink Red', category: 'red' },
            '#e88c94': { name: '190 C', desc: 'Light Pink Red', category: 'red' },
            '#e06070': { name: '191 C', desc: 'Pink Red', category: 'red' },
            '#d83050': { name: '192 C', desc: 'Strawberry', category: 'red' },
            '#c01840': { name: '193 C', desc: 'Deep Strawberry', category: 'red' },
            '#a0102e': { name: '194 C', desc: 'Crimson', category: 'red' },
            '#80081c': { name: '195 C', desc: 'Dark Crimson', category: 'red' },
            '#f0b8c0': { name: '196 C', desc: 'Pale Cerise', category: 'red' },
            '#e498a4': { name: '197 C', desc: 'Light Cerise', category: 'red' },
            '#d86878': { name: '198 C', desc: 'Cerise', category: 'red' },
            '#c8344c': { name: '199 C', desc: 'Deep Cerise', category: 'red' },
            '#b42240': { name: '200 C', desc: 'Carmine', category: 'red' },
            '#9d2235': { name: '201 C', desc: 'Burgundy', category: 'red' },
            '#821c2c': { name: '202 C', desc: 'Dark Burgundy', category: 'red' },
            '#681424': { name: '203 C', desc: 'Deep Burgundy', category: 'red' },
            '#f0b8c8': { name: '204 C', desc: 'Pale Pink', category: 'red' },
            '#e498b0': { name: '205 C', desc: 'Light Pink', category: 'red' },
            '#d86890': { name: '206 C', desc: 'Pink', category: 'red' },
            '#c8286c': { name: '207 C', desc: 'Hot Pink Deep', category: 'red' },
            '#b01858': { name: '208 C', desc: 'Dark Hot Pink', category: 'red' },
            '#900c40': { name: '209 C', desc: 'Deep Hot Pink', category: 'red' },
            '#720828': { name: '210 C', desc: 'Very Deep Pink', category: 'red' },
            '#f4b8cc': { name: '211 C', desc: 'Pale Blush Pink', category: 'red' },
            '#ee94b4': { name: '212 C', desc: 'Blush', category: 'red' },
            '#e86898': { name: '213 C', desc: 'Rose Pink', category: 'red' },
            '#e03478': { name: '214 C', desc: 'Deep Rose', category: 'red' },
            '#cc1464': { name: '215 C', desc: 'Magenta Rose', category: 'red' },
            '#a40c50': { name: '216 C', desc: 'Dark Magenta Rose', category: 'red' },
            '#80083c': { name: '217 C', desc: 'Deep Dark Rose', category: 'red' },
            '#f8c0d4': { name: '218 C', desc: 'Pale Petal', category: 'red' },
            '#f49cbc': { name: '219 C', desc: 'Petal', category: 'red' },
            '#ec6c9c': { name: '220 C', desc: 'Deep Petal', category: 'red' },
            '#d83c7c': { name: '221 C', desc: 'Fuchsia Light', category: 'red' },
            '#c01868': { name: '222 C', desc: 'Fuchsia', category: 'red' },
            '#a01054': { name: '223 C', desc: 'Deep Fuchsia', category: 'red' },
            '#800840': { name: '224 C', desc: 'Dark Fuchsia', category: 'red' },
            '#fac4d8': { name: '225 C', desc: 'Pale Candy Pink', category: 'red' },
            '#f69cc0': { name: '226 C', desc: 'Candy Pink', category: 'red' },
            '#ec68a4': { name: '227 C', desc: 'Deep Candy Pink', category: 'red' },
            '#d83088': { name: '228 C', desc: 'Magenta Pink', category: 'red' },
            '#be1470': { name: '229 C', desc: 'Dark Magenta', category: 'red' },
            '#9c085c': { name: '230 C', desc: 'Deep Dark Magenta', category: 'red' },
            '#7c0448': { name: '231 C', desc: 'Very Dark Magenta', category: 'red' },
            '#f8cce0': { name: '232 C', desc: 'Pale Orchid Pink', category: 'red' },
            '#f4a4c8': { name: '233 C', desc: 'Orchid Pink', category: 'red' },
            '#ec74ac': { name: '234 C', desc: 'Deep Orchid', category: 'red' },
            '#d83c90': { name: '235 C', desc: 'Vivid Orchid', category: 'red' },
            '#c01878': { name: '236 C', desc: 'Radiant Orchid', category: 'red' },
            '#a00c64': { name: '237 C', desc: 'Deep Radiant Orchid', category: 'red' },
            '#800450': { name: '238 C', desc: 'Dark Radiant Orchid', category: 'red' },
            '#f4c8e4': { name: '239 C', desc: 'Pale Lavender', category: 'purple' },
            '#eca4cc': { name: '240 C', desc: 'Lavender Pink', category: 'purple' },
            '#e074b0': { name: '241 C', desc: 'Orchid', category: 'purple' },
            '#cc3c90': { name: '242 C', desc: 'Deep Orchid', category: 'purple' },
            '#b01878': { name: '243 C', desc: 'Violet Rose', category: 'purple' },
            '#900c60': { name: '244 C', desc: 'Dark Violet Rose', category: 'purple' },
            '#700450': { name: '245 C', desc: 'Deep Violet Rose', category: 'purple' },
            '#f2c8e4': { name: '246 C', desc: 'Pale Heliotrope', category: 'purple' },
            '#e8a0d0': { name: '247 C', desc: 'Heliotrope', category: 'purple' },
            '#d870b8': { name: '248 C', desc: 'Deep Heliotrope', category: 'purple' },
            '#c43c9c': { name: '249 C', desc: 'Purple Pink', category: 'purple' },
            '#a81880': { name: '250 C', desc: 'Dark Purple Pink', category: 'purple' },
            '#8c0c68': { name: '251 C', desc: 'Deep Purple Pink', category: 'purple' },
            '#6c0450': { name: '252 C', desc: 'Very Deep Purple', category: 'purple' },
            '#eed4ec': { name: '253 C', desc: 'Pale Amethyst', category: 'purple' },
            '#ddb0dc': { name: '254 C', desc: 'Amethyst Light', category: 'purple' },
            '#c880c4': { name: '255 C', desc: 'Amethyst', category: 'purple' },
            '#a848a8': { name: '256 C', desc: 'Medium Violet', category: 'purple' },
            '#8c2890': { name: '257 C', desc: 'Violet', category: 'purple' },
            '#701878': { name: '258 C', desc: 'Dark Violet', category: 'purple' },
            '#540c60': { name: '259 C', desc: 'Deep Violet', category: 'purple' },
            '#eacce8': { name: '260 C', desc: 'Pale Purple', category: 'purple' },
            '#d8a8d8': { name: '261 C', desc: 'Light Purple', category: 'purple' },
            '#c07cc4': { name: '262 C', desc: 'Purple Light', category: 'purple' },
            '#a04cac': { name: '263 C', desc: 'Purple', category: 'purple' },
            '#7c2090': { name: '264 C', desc: 'Dark Purple', category: 'purple' },
            '#600c78': { name: '265 C', desc: 'Deep Dark Purple', category: 'purple' },
            '#480860': { name: '266 C', desc: 'Very Dark Purple', category: 'purple' },
            '#e0c4e4': { name: '267 C', desc: 'Pale Grape', category: 'purple' },
            '#c898d0': { name: '268 C', desc: 'Light Grape', category: 'purple' },
            '#a464b8': { name: '269 C', desc: 'Grape', category: 'purple' },
            '#7c3498': { name: '270 C', desc: 'Deep Grape', category: 'purple' },
            '#5c1878': { name: '271 C', desc: 'Dark Grape', category: 'purple' },
            '#440c60': { name: '272 C', desc: 'Very Deep Purple', category: 'purple' },
            '#d8c4e4': { name: '273 C', desc: 'Pale Wisteria', category: 'purple' },
            '#b898cc': { name: '274 C', desc: 'Wisteria', category: 'purple' },
            '#8c60ac': { name: '275 C', desc: 'Deep Wisteria', category: 'purple' },
            '#602888': { name: '276 C', desc: 'Dark Wisteria', category: 'purple' },
            '#440c6c': { name: '277 C', desc: 'Very Dark Wisteria', category: 'purple' },
            '#d4c4e0': { name: '278 C', desc: 'Pale Iris', category: 'purple' },
            '#b4a0cc': { name: '279 C', desc: 'Light Iris', category: 'purple' },
            '#8c78b0': { name: '280 C', desc: 'Iris', category: 'purple' },
            '#603c8c': { name: '281 C', desc: 'Deep Iris', category: 'purple' },
            '#3c1468': { name: '282 C', desc: 'Dark Iris', category: 'purple' },
            '#c8bcd8': { name: '283 C', desc: 'Pale Hyacinth', category: 'purple' },
            '#a89cc4': { name: '284 C', desc: 'Hyacinth', category: 'purple' },
            '#8474a8': { name: '285 C', desc: 'Deep Hyacinth', category: 'purple' },
            '#5c4088': { name: '286 C', desc: 'Dark Hyacinth', category: 'purple' },
            '#3c2068': { name: '287 C', desc: 'Very Dark Hyacinth', category: 'purple' },
            '#c0b4d4': { name: '288 C', desc: 'Pale Periwinkle', category: 'purple' },
            '#9c90bc': { name: '289 C', desc: 'Periwinkle', category: 'purple' },
            '#7468a0': { name: '290 C', desc: 'Deep Periwinkle', category: 'purple' },
            '#b4c8e4': { name: '291 C', desc: 'Pale Blue', category: 'blue' },
            '#8cb4d8': { name: '292 C', desc: 'Sky Blue Light', category: 'blue' },
            '#5c94c4': { name: '293 C', desc: 'Cerulean', category: 'blue' },
            '#1a5ea8': { name: '294 C', desc: 'Royal Blue', category: 'blue' },
            '#0a408c': { name: '295 C', desc: 'Dark Royal Blue', category: 'blue' },
            '#082c70': { name: '296 C', desc: 'Deep Royal Blue', category: 'blue' },
            '#b4cce0': { name: '297 C', desc: 'Pale Cornflower', category: 'blue' },
            '#7cb4d8': { name: '298 C', desc: 'Cornflower Blue', category: 'blue' },
            '#3490c8': { name: '299 C', desc: 'Process Blue Light', category: 'blue' },
            '#007ec4': { name: '300 C', desc: 'Process Blue', category: 'blue' },
            '#0062a8': { name: '301 C', desc: 'Dark Process Blue', category: 'blue' },
            '#004c88': { name: '302 C', desc: 'Deep Blue', category: 'blue' },
            '#b8d0e4': { name: '303 C', desc: 'Pale Blue 2', category: 'blue' },
            '#90bcdc': { name: '304 C', desc: 'Powder Blue', category: 'blue' },
            '#5898c8': { name: '305 C', desc: 'Medium Blue Light', category: 'blue' },
            '#0084c8': { name: '306 C', desc: 'Cyan Blue', category: 'blue' },
            '#0077c8': { name: '307 C', desc: 'Process Blue Dark', category: 'blue' },
            '#005c9c': { name: '308 C', desc: 'Very Dark Blue', category: 'blue' },
            '#bcd8e8': { name: '309 C', desc: 'Pale Azure', category: 'blue' },
            '#94c4dc': { name: '310 C', desc: 'Azure Light', category: 'blue' },
            '#58b0d4': { name: '311 C', desc: 'Azure', category: 'blue' },
            '#00a4d0': { name: '312 C', desc: 'Cerulean Blue', category: 'blue' },
            '#0088b8': { name: '313 C', desc: 'Dark Cerulean', category: 'blue' },
            '#006c9c': { name: '314 C', desc: 'Deep Cerulean', category: 'blue' },
            '#00547c': { name: '315 C', desc: 'Very Deep Cerulean', category: 'blue' },
            '#c4dce8': { name: '316 C', desc: 'Pale Steel Blue', category: 'blue' },
            '#9ccce0': { name: '317 C', desc: 'Steel Blue Light', category: 'blue' },
            '#64bcd8': { name: '318 C', desc: 'Steel Blue', category: 'blue' },
            '#00b0d4': { name: '319 C', desc: 'Turquoise Blue', category: 'blue' },
            '#0098c0': { name: '320 C', desc: 'Dark Turquoise Blue', category: 'blue' },
            '#00789c': { name: '321 C', desc: 'Teal Blue', category: 'blue' },
            '#005c78': { name: '322 C', desc: 'Dark Teal Blue', category: 'blue' },
            '#c4e0e4': { name: '323 C', desc: 'Pale Teal', category: 'blue' },
            '#94d0d4': { name: '324 C', desc: 'Light Teal', category: 'blue' },
            '#50bcbf': { name: '325 C', desc: 'Teal', category: 'blue' },
            '#00a4ac': { name: '326 C', desc: 'Medium Teal', category: 'blue' },
            '#008c98': { name: '327 C', desc: 'Dark Teal', category: 'blue' },
            '#006c78': { name: '328 C', desc: 'Deep Teal', category: 'blue' },
            '#005060': { name: '329 C', desc: 'Very Deep Teal', category: 'blue' },
            '#bce4e4': { name: '330 C', desc: 'Pale Aqua', category: 'blue' },
            '#88d4d4': { name: '331 C', desc: 'Aqua Light', category: 'blue' },
            '#44c4c4': { name: '332 C', desc: 'Aqua', category: 'blue' },
            '#00b0b4': { name: '333 C', desc: 'Medium Aqua', category: 'blue' },
            '#009898': { name: '334 C', desc: 'Dark Aqua', category: 'blue' },
            '#007c7c': { name: '335 C', desc: 'Deep Aqua', category: 'blue' },
            '#006060': { name: '336 C', desc: 'Very Deep Aqua', category: 'blue' },
            '#b4e4e0': { name: '337 C', desc: 'Pale Seafoam', category: 'green' },
            '#80d4cc': { name: '338 C', desc: 'Seafoam Light', category: 'green' },
            '#40c4bc': { name: '339 C', desc: 'Seafoam', category: 'green' },
            '#00b4a8': { name: '340 C', desc: 'Medium Seafoam', category: 'green' },
            '#009c8c': { name: '341 C', desc: 'Jade', category: 'green' },
            '#007c70': { name: '342 C', desc: 'Dark Jade', category: 'green' },
            '#005c50': { name: '343 C', desc: 'Deep Jade', category: 'green' },
            '#b4e4d8': { name: '344 C', desc: 'Pale Mint', category: 'green' },
            '#80d4c0': { name: '345 C', desc: 'Mint Light', category: 'green' },
            '#40c4a8': { name: '346 C', desc: 'Mint', category: 'green' },
            '#00b490': { name: '347 C', desc: 'Emerald Light', category: 'green' },
            '#009c7c': { name: '348 C', desc: 'Emerald', category: 'green' },
            '#008064': { name: '349 C', desc: 'Dark Emerald', category: 'green' },
            '#006050': { name: '350 C', desc: 'Deep Emerald', category: 'green' },
            '#b8e4cc': { name: '351 C', desc: 'Pale Spring Green', category: 'green' },
            '#88d4b0': { name: '352 C', desc: 'Spring Green Light', category: 'green' },
            '#50c494': { name: '353 C', desc: 'Spring Green', category: 'green' },
            '#00b478': { name: '354 C', desc: 'Kelly Green Light', category: 'green' },
            '#009c60': { name: '355 C', desc: 'Kelly Green', category: 'green' },
            '#008048': { name: '363 C', desc: 'Deep Vivid Green', category: 'green' },
            '#006034': { name: '357 C', desc: 'Forest Green', category: 'green' },
            '#bcead4': { name: '358 C', desc: 'Pale Grass Green', category: 'green' },
            '#90dab8': { name: '359 C', desc: 'Grass Green Light', category: 'green' },
            '#56ca98': { name: '360 C', desc: 'Grass Green', category: 'green' },
            '#00b878': { name: '361 C', desc: 'Vivid Green', category: 'green' },
            '#009c5c': { name: '362 C', desc: 'Dark Vivid Green', category: 'green' },
            '#006030': { name: '364 C', desc: 'Very Deep Green', category: 'green' },
            '#c0e8c0': { name: '365 C', desc: 'Pale Leaf Green', category: 'green' },
            '#98d8a0': { name: '366 C', desc: 'Leaf Green Light', category: 'green' },
            '#64c474': { name: '367 C', desc: 'Leaf Green', category: 'green' },
            '#28ac44': { name: '368 C', desc: 'Bright Green', category: 'green' },
            '#00943a': { name: '369 C', desc: 'Vivid Leaf Green', category: 'green' },
            '#00782c': { name: '370 C', desc: 'Dark Green', category: 'green' },
            '#005c1c': { name: '371 C', desc: 'Deep Dark Green', category: 'green' },
            '#c4e8b8': { name: '372 C', desc: 'Pale Lime Green', category: 'green' },
            '#9cd894': { name: '373 C', desc: 'Lime Green Light', category: 'green' },
            '#64c464': { name: '374 C', desc: 'Lime Green', category: 'green' },
            '#28b034': { name: '375 C', desc: 'Vivid Lime Green', category: 'green' },
            '#009820': { name: '376 C', desc: 'Dark Lime Green', category: 'green' },
            '#007c10': { name: '377 C', desc: 'Deep Lime Green', category: 'green' },
            '#006000': { name: '378 C', desc: 'Very Deep Green 2', category: 'green' },
            '#cce8ac': { name: '379 C', desc: 'Pale Yellow Green', category: 'green' },
            '#b0d880': { name: '380 C', desc: 'Yellow Green Light', category: 'green' },
            '#8cc84c': { name: '381 C', desc: 'Yellow Green', category: 'green' },
            '#68b400': { name: '382 C', desc: 'Chartreuse Light', category: 'green' },
            '#50a000': { name: '383 C', desc: 'Chartreuse', category: 'green' },
            '#3c8800': { name: '384 C', desc: 'Dark Chartreuse', category: 'green' },
            '#2c6c00': { name: '385 C', desc: 'Deep Chartreuse', category: 'green' },
            '#d4e8a0': { name: '386 C', desc: 'Pale Celery', category: 'green' },
            '#bedd78': { name: '387 C', desc: 'Celery Light', category: 'green' },
            '#a4cc48': { name: '388 C', desc: 'Celery', category: 'green' },
            '#88b800': { name: '389 C', desc: 'Dark Celery', category: 'green' },
            '#70a000': { name: '390 C', desc: 'Olive Green Light', category: 'green' },
            '#5c8800': { name: '391 C', desc: 'Olive Green', category: 'green' },
            '#487000': { name: '392 C', desc: 'Dark Olive Green', category: 'green' },
            '#d8e49c': { name: '393 C', desc: 'Pale Pistachio', category: 'green' },
            '#c4d870': { name: '394 C', desc: 'Pistachio Light', category: 'green' },
            '#accc40': { name: '395 C', desc: 'Pistachio', category: 'green' },
            '#94b800': { name: '396 C', desc: 'Dark Pistachio', category: 'green' },
            '#7c9c00': { name: '397 C', desc: 'Pear Green', category: 'green' },
            '#688000': { name: '398 C', desc: 'Dark Pear Green', category: 'green' },
            '#546800': { name: '399 C', desc: 'Deep Pear Green', category: 'green' },
            '#e0e898': { name: '400 C', desc: 'Pale Fern', category: 'green' },
            '#d0dc78': { name: '401 C', desc: 'Fern', category: 'green' },
            '#b8c850': { name: '402 C', desc: 'Dark Fern', category: 'green' },
            '#9cb028': { name: '403 C', desc: 'Avocado Light', category: 'green' },
            '#849800': { name: '404 C', desc: 'Avocado', category: 'green' },
            '#6c8000': { name: '405 C', desc: 'Dark Avocado', category: 'green' },
            '#dce4a0': { name: '406 C', desc: 'Pale Sage', category: 'green' },
            '#c8d480': { name: '407 C', desc: 'Sage Light', category: 'green' },
            '#b0c060': { name: '408 C', desc: 'Sage', category: 'green' },
            '#98a840': { name: '409 C', desc: 'Dark Sage', category: 'green' },
            '#809020': { name: '410 C', desc: 'Moss Light', category: 'green' },
            '#6c7c10': { name: '411 C', desc: 'Moss', category: 'green' },
            '#586800': { name: '412 C', desc: 'Dark Moss', category: 'green' },
            '#6e5f47': { name: '448 C', desc: 'Dark Olive', category: 'brown' },
            '#7c6c50': { name: '449 C', desc: 'Olive', category: 'brown' },
            '#8c7c5c': { name: '450 C', desc: 'Light Olive', category: 'brown' },
            '#9c8c6c': { name: '451 C', desc: 'Khaki', category: 'brown' },
            '#b0a080': { name: '452 C', desc: 'Light Khaki', category: 'brown' },
            '#c4b898': { name: '453 C', desc: 'Sand', category: 'brown' },
            '#d8d0b0': { name: '454 C', desc: 'Light Sand', category: 'brown' },
            '#705848': { name: '455 C', desc: 'Dark Earth', category: 'brown' },
            '#806858': { name: '456 C', desc: 'Earth', category: 'brown' },
            '#987870': { name: '457 C', desc: 'Light Earth', category: 'brown' },
            '#ac9080': { name: '458 C', desc: 'Warm Beige', category: 'brown' },
            '#c4a898': { name: '459 C', desc: 'Beige', category: 'brown' },
            '#d8c0b0': { name: '460 C', desc: 'Light Beige', category: 'brown' },
            '#785c4c': { name: '461 C', desc: 'Dark Tan', category: 'brown' },
            '#887060': { name: '462 C', desc: 'Tan', category: 'brown' },
            '#9c8470': { name: '463 C', desc: 'Light Tan', category: 'brown' },
            '#b09a84': { name: '464 C', desc: 'Warm Tan', category: 'brown' },
            '#c4b09c': { name: '465 C', desc: 'Pale Tan', category: 'brown' },
            '#d8c8b4': { name: '466 C', desc: 'Very Pale Tan', category: 'brown' },
            '#806050': { name: '467 C', desc: 'Dark Caramel', category: 'brown' },
            '#907060': { name: '468 C', desc: 'Caramel', category: 'brown' },
            '#a48474': { name: '469 C', desc: 'Light Caramel', category: 'brown' },
            '#b89888': { name: '470 C', desc: 'Warm Caramel', category: 'brown' },
            '#887464': { name: '476 C', desc: 'Dark Cocoa', category: 'brown' },
            '#9c8878': { name: '477 C', desc: 'Cocoa', category: 'brown' },
            '#b09c8c': { name: '478 C', desc: 'Light Cocoa', category: 'brown' },
            '#906050': { name: '483 C', desc: 'Dark Terra', category: 'brown' },
            '#a47060': { name: '484 C', desc: 'Terra', category: 'brown' },
            '#b88474': { name: '485 C', desc: 'Light Terra', category: 'brown' },
            '#986858': { name: '490 C', desc: 'Dark Brown', category: 'brown' },
            '#ac7c6c': { name: '491 C', desc: 'Brown', category: 'brown' },
            '#c09080': { name: '492 C', desc: 'Light Brown', category: 'brown' },
            '#e8e0d0': { name: '420 C', desc: 'Pale Warm Gray', category: 'neutral' },
            '#d4c8b8': { name: '421 C', desc: 'Light Warm Gray', category: 'neutral' },
            '#bfb3a4': { name: '422 C', desc: 'Warm Gray', category: 'neutral' },
            '#a89e90': { name: '423 C', desc: 'Medium Warm Gray', category: 'neutral' },
            '#908880': { name: '424 C', desc: 'Dark Warm Gray', category: 'neutral' },
            '#787068': { name: '425 C', desc: 'Deep Warm Gray', category: 'neutral' },
            '#5c5650': { name: '426 C', desc: 'Very Dark Warm Gray', category: 'neutral' },
            '#f4f4f4': { name: 'Cool Gray 1 C', desc: 'Cool Gray 1', category: 'neutral' },
            '#e8e8e8': { name: 'Cool Gray 2 C', desc: 'Cool Gray 2', category: 'neutral' },
            '#dcdcdc': { name: 'Cool Gray 3 C', desc: 'Cool Gray 3', category: 'neutral' },
            '#d1d3d4': { name: 'Cool Gray 4 C', desc: 'Cool Gray 4', category: 'neutral' },
            '#c8c9c7': { name: 'Cool Gray 5 C', desc: 'Cool Gray 5', category: 'neutral' },
            '#b1b3b3': { name: 'Cool Gray 6 C', desc: 'Cool Gray 6', category: 'neutral' },
            '#a7a9ac': { name: 'Cool Gray 7 C', desc: 'Cool Gray 7', category: 'neutral' },
            '#97999b': { name: 'Cool Gray 8 C', desc: 'Cool Gray 8', category: 'neutral' },
            '#888b8d': { name: 'Cool Gray 9 C', desc: 'Cool Gray 9', category: 'neutral' },
            '#75787b': { name: 'Cool Gray 10 C', desc: 'Cool Gray 10', category: 'neutral' },
            '#63666a': { name: 'Cool Gray 11 C', desc: 'Cool Gray 11', category: 'neutral' },
            '#53565a': { name: 'Cool Gray 12 C', desc: 'Cool Gray 12', category: 'neutral' },
            '#2d2926': { name: 'Black 2 C', desc: 'Black Warm', category: 'neutral' },
            '#212322': { name: 'Black 3 C', desc: 'Black 3', category: 'neutral' },
            '#1c1c1c': { name: 'Black 4 C', desc: 'Near Black', category: 'neutral' },
            '#000000': { name: 'Black C', desc: 'Pure Black', category: 'neutral' },
            '#ffffff': { name: 'White', desc: 'Pure White', category: 'neutral' },
            '#84754e': { name: '871 C', desc: 'Gold', category: 'metallic' },
            '#a68966': { name: '872 C', desc: 'Rich Gold', category: 'metallic' },
            '#7a6a4f': { name: '873 C', desc: 'Bronze Gold', category: 'metallic' },
            '#74622e': { name: '874 C', desc: 'Antique Gold', category: 'metallic' },
            '#8a8d8f': { name: '877 C', desc: 'Silver', category: 'metallic' },
            '#915520': { name: '876 C', desc: 'Copper', category: 'metallic' },
            '#54585a': { name: '8003 C', desc: 'Gunmetal', category: 'metallic' },
            '#d5d2d1': { name: '8001 C', desc: 'Platinum', category: 'metallic' },
            '#c0b8b0': { name: '8002 C', desc: 'Warm Silver', category: 'metallic' },
            '#b4975a': { name: '7502 C', desc: 'Old Gold', category: 'metallic' },
            '#d4b88e': { name: '7501 C', desc: 'Champagne', category: 'metallic' },
            '#c8a870': { name: '7503 C', desc: 'Sand Gold', category: 'metallic' },
            '#bc9850': { name: '7504 C', desc: 'Wheat Gold', category: 'metallic' },
            '#a08030': { name: '7505 C', desc: 'Dark Wheat Gold', category: 'metallic' },
            '#81d8d0': { name: '1837 C', desc: 'Tiffany Blue', category: 'blue' },
            '#24d1e0': { name: '801 C', desc: 'Neon Blue', category: 'neon' },
            '#44d62c': { name: '802 C', desc: 'Neon Green', category: 'neon' },
            '#e0e542': { name: '803 C', desc: 'Neon Yellow', category: 'neon' },
            '#ffaa4d': { name: '804 C', desc: 'Neon Orange', category: 'neon' },
            '#ff584d': { name: '805 C', desc: 'Neon Red', category: 'neon' },
            '#ff3eb5': { name: '806 C', desc: 'Neon Pink', category: 'neon' },
            '#ff6ec7': { name: '807 C', desc: 'Hot Neon Pink', category: 'neon' },
            '#e8d0c0': { name: '7499 C', desc: 'Pale Sand', category: 'neutral' },
            '#d4b898': { name: '7500 C', desc: 'Sand', category: 'neutral' },
            '#6b4226': { name: '7526 C', desc: 'Deep Mahogany', category: 'brown' },
            '#8b5e3c': { name: '7527 C', desc: 'Mahogany', category: 'brown' },
            '#a07850': { name: '7528 C', desc: 'Warm Brown', category: 'brown' },
            '#b49068': { name: '7529 C', desc: 'Taupe', category: 'brown' },
            '#c8a888': { name: '7530 C', desc: 'Light Taupe', category: 'brown' },
            '#dcc4a8': { name: '7531 C', desc: 'Pale Taupe', category: 'brown' },
            '#e8d8c0': { name: '7532 C', desc: 'Very Pale Taupe', category: 'neutral' },
            '#003c6c': { name: '7686 C', desc: 'Dark Navy Blue', category: 'blue' },
            '#004c8c': { name: '7687 C', desc: 'Navy Blue', category: 'blue' },
            '#0060ac': { name: '7688 C', desc: 'Medium Navy', category: 'blue' },
            '#0078c8': { name: '7689 C', desc: 'Bright Navy', category: 'blue' },
            '#5c9cc8': { name: '7690 C', desc: 'Light Blue', category: 'blue' },
            '#90bcd8': { name: '7691 C', desc: 'Pale Blue', category: 'blue' },
            '#b8d4e8': { name: '7692 C', desc: 'Very Pale Blue', category: 'blue' },
            '#003050': { name: '7693 C', desc: 'Dark Teal Navy', category: 'blue' },
            '#004468': { name: '7694 C', desc: 'Teal Navy', category: 'blue' },
            '#006088': { name: '7695 C', desc: 'Dark Cyan Blue', category: 'blue' },
            '#007cac': { name: '7696 C', desc: 'Cyan Blue', category: 'blue' },
            '#50a0c0': { name: '7697 C', desc: 'Light Cyan Blue', category: 'blue' },
            '#8cc4d8': { name: '7698 C', desc: 'Pale Cyan Blue', category: 'blue' },
            '#b4d8e8': { name: '7699 C', desc: 'Very Pale Cyan', category: 'blue' },
            '#f5e6cc': { name: '7506 C', desc: 'Ivory', category: 'neutral' },
            '#ece0c8': { name: '7507 C', desc: 'Cream', category: 'neutral' },
            '#e4d4b4': { name: '7508 C', desc: 'Warm Cream', category: 'neutral' },
            '#d4c09c': { name: '7509 C', desc: 'Light Buff', category: 'neutral' },
            '#c4a87c': { name: '7510 C', desc: 'Buff', category: 'neutral' },
            '#b09060': { name: '7511 C', desc: 'Dark Buff', category: 'neutral' },
            '#006747': { name: '3425 C', desc: 'Masters Green', category: 'green' },
            '#253250': { name: '533 C', desc: 'PGA Blue', category: 'blue' },
            '#6f2c91': { name: '259 C', desc: 'Purple', category: 'purple' },
            '#4b2c74': { name: '269 C', desc: 'Dark Purple', category: 'purple' },
            '#800080': { name: '2617 C', desc: 'Purple', category: 'purple' },
            '#8b4513': { name: '1545 C', desc: 'Saddle Brown', category: 'brown' },
            '#cd853f': { name: '729 C', desc: 'Warm Copper', category: 'brown' },
            '#be8a5f': { name: '729 C Light', desc: 'Light Copper', category: 'metallic' },
        };

        function unlock() {
            if(document.getElementById('pw').value.toLowerCase() === 'golf') {
                document.getElementById('lock-screen').style.display = 'none';
                document.getElementById('app').style.display = 'grid';
                initDesigner();
                showNotification('âœ“ Access Granted');
            } else {
                showNotification('âœ— Invalid Password', '#e74c3c');
            }
        }

        function showNotification(msg, color = '#27ae60') {
            const notif = document.createElement('div');
            notif.className = 'notification';
            notif.textContent = msg;
            notif.style.background = color;
            document.body.appendChild(notif);
            setTimeout(() => notif.remove(), 3000);
        }

        function copyHex(hex) {
            navigator.clipboard.writeText(hex);
            showNotification(`âœ“ Copied ${hex}`);
        }

        function getSKU() {
            const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
            let res = '';
            for (let i = 0; i < 4; i++) res += chars.charAt(Math.floor(Math.random() * chars.length));
            return res;
        }

        function getColorCategory(r, g, b) {
            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            const diff = max - min;
            if(diff < 15) return 'neutral';
            if(r > g && r > b) { if(g > b * 1.5) return 'orange'; return 'red'; }
            else if(g > r && g > b) { if(b > r * 1.3) return 'blue'; return 'green'; }
            else if(b > r && b > g) { if(r > g * 1.2) return 'purple'; return 'blue'; }
            return 'neutral';
        }

        function findPantone(hex) {
            hex = hex.toLowerCase().trim();
            if(!hex.startsWith('#')) hex = '#' + hex;
            for(let key in PANTONE_DB) {
                if(key.toLowerCase() === hex) {
                    return { text: `${PANTONE_DB[key].name} (${PANTONE_DB[key].desc})`, quality: 'exact', distance: 0 };
                }
            }
            const r1 = parseInt(hex.substring(1,3), 16);
            const g1 = parseInt(hex.substring(3,5), 16);
            const b1 = parseInt(hex.substring(5,7), 16);
            const inputCategory = getColorCategory(r1, g1, b1);
            let bestMatch = null;
            let minDistance = Infinity;
            for(let key in PANTONE_DB) {
                const normalizedKey = key.toLowerCase();
                const r2 = parseInt(normalizedKey.substring(1,3), 16);
                const g2 = parseInt(normalizedKey.substring(3,5), 16);
                const b2 = parseInt(normalizedKey.substring(5,7), 16);
                const colorDistance = Math.sqrt(Math.pow(r1-r2,2)+Math.pow(g1-g2,2)+Math.pow(b1-b2,2));
                let distance = colorDistance;
                const pantoneCategory = PANTONE_DB[key].category;
                if(inputCategory !== 'neutral' && pantoneCategory !== inputCategory && pantoneCategory !== 'neutral' && pantoneCategory !== 'metallic') {
                    distance *= 1.8;
                }
                if(distance < minDistance) { minDistance = distance; bestMatch = PANTONE_DB[key]; }
            }
            let quality = 'approx';
            if(minDistance < 30) quality = 'exact';
            else if(minDistance < 80) quality = 'close';
            return {
                text: `${bestMatch.name} (${bestMatch.desc})${quality === 'approx' ? ' ~' : ''}`,
                quality: quality,
                distance: minDistance
            };
        }

        function refreshPreview() {
            if(!currentID) currentID = getSKU();
            const L = document.getElementById('len').value;
            const T = parseFloat(document.getElementById('topD').value);
            const B = parseFloat(document.getElementById('botD').value);
            document.getElementById('skuDisplay').innerText = `F-${L}-${currentID}`;
            const viz = document.getElementById('preview');
            const max = Math.max(T, B);
            const topP = ((T / max) * 100) / 2;
            const botP = ((B / max) * 100) / 2;
            viz.style.clipPath = `polygon(${50-topP}% 0%, ${50+topP}% 0%, ${50+botP}% 100%, ${50-botP}% 100%)`;
            viz.innerHTML = '';
            activeColors.forEach((c, idx) => {
                const s = document.createElement('div');
                s.className = 'sec-slice';
                if(selectedSection === idx) s.classList.add('selected');
                s.style.background = c;
                s.onclick = () => selectSection(idx);
                viz.appendChild(s);
            });
        }

        function selectSection(index) {
            selectedSection = index;
            document.querySelectorAll('.section-row').forEach((row, i) => {
                row.classList.toggle('selected', i === index);
            });
            refreshPreview();
        }

        function updateSection(index, hex) {
            if(!hex.startsWith('#')) hex = '#' + hex;
            if(/^#[0-9A-F]{6}$/i.test(hex)) {
                activeColors[index] = hex;
                document.getElementById(`p${index}`).value = hex;
                document.getElementById(`h${index}`).value = hex.toUpperCase();
                const match = findPantone(hex);
                const tag = document.getElementById(`tag${index}`);
                tag.innerText = match.text;
                tag.className = `pantone-tag ${match.quality}`;
                currentID = getSKU();
                refreshPreview();
            }
        }

        function applyPattern(type) {
            if(selectedSection === null) { showNotification('âš  Select a section first', '#f39c12'); return; }
            const baseColor = activeColors[selectedSection];
            if(type === 'gradient') {
                for(let i = 0; i < TOTAL_SECS; i++) {
                    const ratio = i / (TOTAL_SECS - 1);
                    const r = Math.round(parseInt(baseColor.substring(1,3), 16) * (1 - ratio));
                    const g = Math.round(parseInt(baseColor.substring(3,5), 16) * (1 - ratio));
                    const b = Math.round(parseInt(baseColor.substring(5,7), 16) * (1 - ratio));
                    updateSection(i, `#${r.toString(16).padStart(2,'0')}${g.toString(16).padStart(2,'0')}${b.toString(16).padStart(2,'0')}`);
                }
            } else if(type === 'alternate') {
                const color2 = activeColors[(selectedSection + 1) % TOTAL_SECS];
                for(let i = 0; i < TOTAL_SECS; i++) { updateSection(i, i % 2 === 0 ? baseColor : color2); }
            } else if(type === 'triple') {
                const color2 = activeColors[(selectedSection + 5) % TOTAL_SECS];
                const color3 = activeColors[(selectedSection + 10) % TOTAL_SECS];
                for(let i = 0; i < TOTAL_SECS; i++) {
                    const colorIndex = i % 3;
                    updateSection(i, colorIndex === 0 ? baseColor : colorIndex === 1 ? color2 : color3);
                }
            }
            showNotification(`âœ“ ${type} pattern applied`);
        }

        function copyAllColors() {
            const hexList = activeColors.map((c, i) => `S${i+1}: ${c}`).join('\n');
            navigator.clipboard.writeText(hexList);
            showNotification('âœ“ All hex codes copied');
        }

        function initDesigner() {
            const ctrl = document.getElementById('sectionControls');
            ctrl.innerHTML = '';
            for(let i=0; i<TOTAL_SECS; i++) {
                const row = document.createElement('div');
                row.className = 'section-row';
                row.innerHTML = `
                    <label style="font-size:0.55rem; width:15px; color:#777; font-weight:bold;">${i+1}</label>
                    <input type="color" id="p${i}" value="${activeColors[i]}">
                    <input type="text" id="h${i}" value="${activeColors[i].toUpperCase()}" maxlength="7" placeholder="#000000">
                    <span class="pantone-tag" id="tag${i}"></span>
                `;
                ctrl.appendChild(row);
                const picker = row.querySelector(`#p${i}`);
                const hexIn = row.querySelector(`#h${i}`);
                picker.addEventListener('input', (e) => updateSection(i, e.target.value));
                hexIn.addEventListener('input', (e) => updateSection(i, e.target.value));
                row.addEventListener('click', (e) => { if(e.target.tagName !== 'INPUT') selectSection(i); });
                const match = findPantone(activeColors[i]);
                const tag = document.getElementById(`tag${i}`);
                tag.innerText = match.text;
                tag.className = `pantone-tag ${match.quality}`;
            }
            document.querySelectorAll('.m-swatch').forEach(swatch => {
                swatch.addEventListener('click', () => {
                    const hex = swatch.getAttribute('data-hex');
                    if(selectedSection !== null) { updateSection(selectedSection, hex); showNotification(`âœ“ Applied to Section ${selectedSection + 1}`); }
                    else { copyHex(hex); }
                });
            });
            refreshPreview();
        }

        // â”€â”€â”€ PDF EXPORT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        async function downloadPDF() {
            showNotification('â³ Generating PDF...', '#2980b9');

            const { jsPDF } = window.jspdf;
            const doc = new jsPDF({ orientation: 'portrait', unit: 'mm', format: 'a4' });

            const sku    = document.getElementById('skuDisplay').innerText;
            const L      = document.getElementById('len').value;
            const T      = document.getElementById('topD').value;
            const B      = document.getElementById('botD').value;
            const ID     = document.getElementById('wall').value;
            const dateStr = new Date().toLocaleString();

            // â”€â”€ Page dimensions
            const pw = doc.internal.pageSize.getWidth();   // 210
            const ph = doc.internal.pageSize.getHeight();  // 297

            // â”€â”€ Dark header bar
            doc.setFillColor(17, 17, 17);
            doc.rect(0, 0, pw, 28, 'F');

            // â”€â”€ Gold accent line
            doc.setFillColor(241, 196, 15);
            doc.rect(0, 27, pw, 1.5, 'F');

            // â”€â”€ Company / title text
            doc.setTextColor(241, 196, 15);
            doc.setFontSize(16);
            doc.setFont('helvetica', 'bold');
            doc.text('FERRULE PRODUCTION SPECIFICATION', pw / 2, 11, { align: 'center' });

            doc.setTextColor(180, 180, 180);
            doc.setFontSize(8);
            doc.setFont('helvetica', 'normal');
            doc.text(`SKU: ${sku}   |   Generated: ${dateStr}`, pw / 2, 19, { align: 'center' });

            // â”€â”€ Geometry block (left column)
            const col1x = 14;
            let y = 38;
            doc.setFillColor(34, 34, 34);
            doc.roundedRect(col1x, y - 5, 80, 40, 2, 2, 'F');

            doc.setTextColor(241, 196, 15);
            doc.setFontSize(8);
            doc.setFont('helvetica', 'bold');
            doc.text('MANUFACTURING GEOMETRY', col1x + 4, y);
            y += 6;

            const geomRows = [
                ['Length', `${L} mm`],
                ['Top Diameter (Ã˜)', `${T} mm`],
                ['Bottom Diameter (Ã˜)', `${B} mm`],
                ['Internal Diameter (Ã˜)', `${ID} mm`],
            ];
            doc.setFont('helvetica', 'normal');
            doc.setFontSize(8.5);
            geomRows.forEach(([label, val]) => {
                doc.setTextColor(160, 160, 160);
                doc.text(label, col1x + 4, y);
                doc.setTextColor(255, 255, 255);
                doc.text(val, col1x + 4 + 46, y);
                y += 7;
            });

            // â”€â”€ Capture the ferrule visual using html2canvas
            let ferruleImgData = null;
            try {
                const vizEl = document.getElementById('preview');
                const canvas = await html2canvas(vizEl, {
                    backgroundColor: '#050505',
                    scale: 2,
                    useCORS: true,
                    logging: false
                });
                ferruleImgData = canvas.toDataURL('image/png');
            } catch(e) {
                console.warn('html2canvas failed:', e);
            }

            // â”€â”€ Ferrule image (right column)
            if (ferruleImgData) {
                const imgX = pw - 14 - 60;
                const imgY = 33;
                const imgW = 60;
                const imgH = 90;

                // Dark backdrop
                doc.setFillColor(5, 5, 5);
                doc.roundedRect(imgX - 3, imgY - 3, imgW + 6, imgH + 6, 2, 2, 'F');
                doc.setDrawColor(60, 60, 60);
                doc.setLineWidth(0.4);
                doc.roundedRect(imgX - 3, imgY - 3, imgW + 6, imgH + 6, 2, 2, 'S');

                doc.addImage(ferruleImgData, 'PNG', imgX, imgY, imgW, imgH);

                doc.setTextColor(100, 100, 100);
                doc.setFontSize(6.5);
                doc.setFont('helvetica', 'italic');
                doc.text('Design Preview', imgX + imgW / 2, imgY + imgH + 5, { align: 'center' });
            }

            // â”€â”€ Color Sequence Table
            const tableStartY = 135;
            const tableX = col1x;
            const tableW = pw - 28;

            // Header
            doc.setFillColor(25, 25, 25);
            doc.rect(tableX, tableStartY, tableW, 7, 'F');
            doc.setFillColor(241, 196, 15);
            doc.rect(tableX, tableStartY + 7, tableW, 0.6, 'F');

            doc.setTextColor(241, 196, 15);
            doc.setFontSize(8);
            doc.setFont('helvetica', 'bold');
            doc.text('COLOR SEQUENCE (Top â†’ Bottom)', tableX + 3, tableStartY + 5);

            const colWidths = [12, 28, 70, 30, 26];  // Sec, Swatch, Pantone, Hex, Quality
            const colHeaders = ['SEC', 'COLOR', 'PANTONE MATCH', 'HEX CODE', 'QUALITY'];
            const colX = [tableX + 2, tableX + 14, tableX + 44, tableX + 116, tableX + 148];

            let ty = tableStartY + 12;

            // Column headers
            doc.setFillColor(40, 40, 40);
            doc.rect(tableX, ty - 4, tableW, 6, 'F');
            doc.setTextColor(180, 180, 180);
            doc.setFontSize(6.5);
            doc.setFont('helvetica', 'bold');
            colHeaders.forEach((h, i) => doc.text(h, colX[i], ty));
            ty += 4;

            // Rows
            doc.setFont('helvetica', 'normal');
            activeColors.forEach((hex, idx) => {
                const match = findPantone(hex);
                const rowH = 5.5;
                const bg = idx % 2 === 0 ? [28, 28, 28] : [22, 22, 22];
                doc.setFillColor(...bg);
                doc.rect(tableX, ty - 3.5, tableW, rowH, 'F');

                // Section number
                doc.setTextColor(120, 120, 120);
                doc.setFontSize(6);
                doc.text(String(idx + 1).padStart(2, '0'), colX[0], ty);

                // Color swatch box
                const rgb = [
                    parseInt(hex.substring(1,3), 16),
                    parseInt(hex.substring(3,5), 16),
                    parseInt(hex.substring(5,7), 16)
                ];
                doc.setFillColor(...rgb);
                doc.roundedRect(colX[1], ty - 3, 8, 4, 0.5, 0.5, 'F');
                doc.setDrawColor(60, 60, 60);
                doc.setLineWidth(0.2);
                doc.roundedRect(colX[1], ty - 3, 8, 4, 0.5, 0.5, 'S');

                // Pantone name
                doc.setTextColor(220, 220, 220);
                doc.setFontSize(6);
                doc.text(match.text.substring(0, 42), colX[2], ty);

                // Hex code
                doc.setTextColor(180, 180, 180);
                doc.setFont('courier', 'normal');
                doc.text(hex.toUpperCase(), colX[3], ty);

                // Quality badge
                const qColors = { exact: [46, 204, 113], close: [243, 156, 18], approx: [231, 76, 60] };
                const qc = qColors[match.quality] || [150, 150, 150];
                doc.setFillColor(...qc);
                doc.roundedRect(colX[4], ty - 3.2, 16, 4, 1, 1, 'F');
                doc.setTextColor(255, 255, 255);
                doc.setFont('helvetica', 'bold');
                doc.setFontSize(5.5);
                doc.text(match.quality.toUpperCase(), colX[4] + 8, ty, { align: 'center' });

                doc.setFont('helvetica', 'normal');
                ty += rowH;
            });

            // â”€â”€ Footer
            const footerY = ph - 14;
            doc.setFillColor(17, 17, 17);
            doc.rect(0, footerY - 4, pw, 18, 'F');
            doc.setFillColor(241, 196, 15);
            doc.rect(0, footerY - 4, pw, 0.8, 'F');

            doc.setTextColor(100, 100, 100);
            doc.setFontSize(6.5);
            doc.setFont('helvetica', 'normal');
            doc.text('Match quality: EXACT (perfect match) Â· CLOSE (within tolerance) Â· APPROX (approximate)', pw / 2, footerY + 2, { align: 'center' });
            doc.text('Verify physical colour samples before production run Â· Contact supplier with this document for approval', pw / 2, footerY + 7, { align: 'center' });

            // â”€â”€ Save
            doc.save(`Ferrule-Spec-${sku}.pdf`);
            showNotification('âœ“ PDF downloaded!');
        }

        function resetDesigner() {
            if(confirm('Reset all colors and settings?')) {
                activeColors = Array(TOTAL_SECS).fill('#000000');
                selectedSection = null;
                currentID = getSKU();
                document.querySelectorAll('.section-row').forEach((row, i) => { updateSection(i, '#000000'); });
                refreshPreview();
                showNotification('âœ“ Designer reset');
            }
        }

        ['len', 'topD', 'botD', 'wall'].forEach(id => {
            document.getElementById(id).addEventListener('input', () => { currentID = getSKU(); refreshPreview(); });
        });

        document.addEventListener('keydown', (e) => {
            if(e.key === 'ArrowUp' && selectedSection !== null && selectedSection > 0) { e.preventDefault(); selectSection(selectedSection - 1); }
            else if(e.key === 'ArrowDown' && selectedSection !== null && selectedSection < TOTAL_SECS - 1) { e.preventDefault(); selectSection(selectedSection + 1); }
        });

        document.getElementById('pw').addEventListener('keypress', (e) => { if(e.key === 'Enter') unlock(); });
    </script>
</body>
</html>
